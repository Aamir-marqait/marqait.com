interface BlogSocialShareProps {
  views?: number;
  url?: string;
  title?: string;
}

export default function BlogSocialShare({ views = 369, url, title }: BlogSocialShareProps) {
  const shareUrl =
    url || typeof window !== "undefined" ? window.location.href : "";
  const shareTitle = title || "Check out this blog post";

  const socialLinks = [
    {
      name: "Facebook",
      icon: () => (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="10"
          height="17"
          viewBox="0 0 10 17"
          fill="none"
        >
          <path
            d="M8.91448 9.04168L9.37042 6.14481H6.56185V4.26185C6.56185 3.46974 6.95395 2.69573 8.20778 2.69573H9.50264V0.228874C8.74858 0.108627 7.98663 0.0435744 7.22296 0.0342407C4.91136 0.0342407 3.40221 1.42383 3.40221 3.93595V6.14481H0.839844V9.04168H3.40221V16.0485H6.56185V9.04168H8.91448Z"
            fill="white"
          />
        </svg>
      ),
      href: `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(
        shareUrl
      )}`,
      color: "hover:text-blue-500",
    },
    {
      name: "Instagram",
      icon: () => (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="17"
          viewBox="0 0 16 17"
          fill="none"
        >
          <path
            d="M5.33696 8.04099C5.33696 6.56697 6.53121 5.37174 8.0048 5.37174C9.47839 5.37174 10.6733 6.56697 10.6733 8.04099C10.6733 9.515 9.47839 10.7102 8.0048 10.7102C6.53121 10.7102 5.33696 9.515 5.33696 8.04099ZM3.89443 8.04099C3.89443 10.3118 5.73464 12.1525 8.0048 12.1525C10.275 12.1525 12.1152 10.3118 12.1152 8.04099C12.1152 5.77017 10.275 3.92943 8.0048 3.92943C5.73464 3.92943 3.89443 5.77017 3.89443 8.04099ZM11.3173 3.76641C11.3172 3.95644 11.3735 4.14224 11.479 4.30029C11.5845 4.45835 11.7344 4.58156 11.9099 4.65436C12.0854 4.72715 12.2786 4.74626 12.4649 4.70926C12.6513 4.67226 12.8225 4.58081 12.9568 4.44649C13.0912 4.31216 13.1828 4.14099 13.2199 3.95462C13.2571 3.76825 13.2381 3.57504 13.1655 3.39944C13.0929 3.22384 12.9698 3.07373 12.8119 2.96808C12.654 2.86244 12.4683 2.80601 12.2783 2.80594H12.2779C12.0232 2.80606 11.779 2.90727 11.5989 3.08736C11.4188 3.26745 11.3175 3.51167 11.3173 3.76641V3.76641ZM4.77086 14.5586C3.99042 14.523 3.56623 14.393 3.28434 14.2831C2.91061 14.1376 2.64395 13.9643 2.36359 13.6842C2.08323 13.4041 1.90969 13.1377 1.76483 12.7638C1.65494 12.482 1.52495 12.0575 1.48947 11.2769C1.45066 10.4329 1.44291 10.1793 1.44291 8.04105C1.44291 5.90277 1.4513 5.64993 1.48947 4.80522C1.52501 4.02455 1.65597 3.60095 1.76483 3.31826C1.91033 2.94443 2.08362 2.67769 2.36359 2.39725C2.64357 2.11681 2.90997 1.94322 3.28434 1.79832C3.56611 1.6884 3.99042 1.55836 4.77086 1.52288C5.61463 1.48406 5.86809 1.47631 8.0048 1.47631C10.1415 1.47631 10.3952 1.4847 11.2397 1.52288C12.0201 1.55843 12.4436 1.68942 12.7262 1.79832C13.1 1.94322 13.3666 2.1172 13.647 2.39725C13.9273 2.67731 14.1002 2.94443 14.2457 3.31826C14.3556 3.60011 14.4856 4.02455 14.5211 4.80522C14.5599 5.64993 14.5676 5.90277 14.5676 8.04105C14.5676 10.1793 14.5599 10.4322 14.5211 11.2769C14.4856 12.0575 14.3549 12.4819 14.2457 12.7638C14.1002 13.1377 13.9269 13.4044 13.647 13.6842C13.367 13.964 13.1 14.1376 12.7262 14.2831C12.4445 14.3931 12.0201 14.5231 11.2397 14.5586C10.3959 14.5974 10.1425 14.6052 8.0048 14.6052C5.86713 14.6052 5.61437 14.5974 4.77086 14.5586V14.5586ZM4.70458 0.0823656C3.85242 0.121184 3.27012 0.256344 2.76159 0.45428C2.23494 0.658685 1.7891 0.932913 1.34359 1.37785C0.898075 1.82279 0.624631 2.26946 0.420284 2.79626C0.222405 3.30526 0.0872843 3.88741 0.0484771 4.73981C0.00902942 5.59356 0 5.86651 0 8.04099C0 10.2155 0.00902942 10.4884 0.0484771 11.3422C0.0872843 12.1946 0.222405 12.7767 0.420284 13.2857C0.624631 13.8122 0.898139 14.2594 1.34359 14.7041C1.78904 15.1489 2.23494 15.4227 2.76159 15.6277C3.27108 15.8256 3.85242 15.9608 4.70458 15.9996C5.55853 16.0384 5.83095 16.0481 8.0048 16.0481C10.1786 16.0481 10.4515 16.0391 11.305 15.9996C12.1572 15.9608 12.7392 15.8256 13.248 15.6277C13.7743 15.4227 14.2205 15.1491 14.666 14.7041C15.1115 14.2592 15.3844 13.8122 15.5893 13.2857C15.7872 12.7767 15.923 12.1946 15.9611 11.3422C15.9999 10.4878 16.009 10.2155 16.009 8.04099C16.009 5.86651 15.9999 5.59356 15.9611 4.73981C15.9223 3.88735 15.7872 3.30494 15.5893 2.79626C15.3844 2.26978 15.1108 1.8235 14.666 1.37785C14.2212 0.932208 13.7743 0.658685 13.2486 0.45428C12.7392 0.256344 12.1572 0.120543 11.3057 0.0823656C10.4522 0.0435471 10.1793 0.0338745 8.00544 0.0338745C5.83159 0.0338745 5.55853 0.0429065 4.70458 0.0823656Z"
            fill="white"
          />
          <path
            d="M5.33696 8.04099C5.33696 6.56697 6.53121 5.37174 8.0048 5.37174C9.47839 5.37174 10.6733 6.56697 10.6733 8.04099C10.6733 9.515 9.47839 10.7102 8.0048 10.7102C6.53121 10.7102 5.33696 9.515 5.33696 8.04099ZM3.89443 8.04099C3.89443 10.3118 5.73464 12.1525 8.0048 12.1525C10.275 12.1525 12.1152 10.3118 12.1152 8.04099C12.1152 5.77017 10.275 3.92943 8.0048 3.92943C5.73464 3.92943 3.89443 5.77017 3.89443 8.04099ZM11.3173 3.76641C11.3172 3.95644 11.3735 4.14224 11.479 4.30029C11.5845 4.45835 11.7344 4.58156 11.9099 4.65436C12.0854 4.72715 12.2786 4.74626 12.4649 4.70926C12.6513 4.67226 12.8225 4.58081 12.9568 4.44649C13.0912 4.31216 13.1828 4.14099 13.2199 3.95462C13.2571 3.76825 13.2381 3.57504 13.1655 3.39944C13.0929 3.22384 12.9698 3.07373 12.8119 2.96808C12.654 2.86244 12.4683 2.80601 12.2783 2.80594H12.2779C12.0232 2.80606 11.779 2.90727 11.5989 3.08736C11.4188 3.26745 11.3175 3.51167 11.3173 3.76641V3.76641ZM4.77086 14.5586C3.99042 14.523 3.56623 14.393 3.28434 14.2831C2.91061 14.1376 2.64395 13.9643 2.36359 13.6842C2.08323 13.4041 1.90969 13.1377 1.76483 12.7638C1.65494 12.482 1.52495 12.0575 1.48947 11.2769C1.45066 10.4329 1.44291 10.1793 1.44291 8.04105C1.44291 5.90277 1.4513 5.64993 1.48947 4.80522C1.52501 4.02455 1.65597 3.60095 1.76483 3.31826C1.91033 2.94443 2.08362 2.67769 2.36359 2.39725C2.64357 2.11681 2.90997 1.94322 3.28434 1.79832C3.56611 1.6884 3.99042 1.55836 4.77086 1.52288C5.61463 1.48406 5.86809 1.47631 8.0048 1.47631C10.1415 1.47631 10.3952 1.4847 11.2397 1.52288C12.0201 1.55843 12.4436 1.68942 12.7262 1.79832C13.1 1.94322 13.3666 2.1172 13.647 2.39725C13.9273 2.67731 14.1002 2.94443 14.2457 3.31826C14.3556 3.60011 14.4856 4.02455 14.5211 4.80522C14.5599 5.64993 14.5676 5.90277 14.5676 8.04105C14.5676 10.1793 14.5599 10.4322 14.5211 11.2769C14.4856 12.0575 14.3549 12.4819 14.2457 12.7638C14.1002 13.1377 13.9269 13.4044 13.647 13.6842C13.367 13.964 13.1 14.1376 12.7262 14.2831C12.4445 14.3931 12.0201 14.5231 11.2397 14.5586C10.3959 14.5974 10.1425 14.6052 8.0048 14.6052C5.86713 14.6052 5.61437 14.5974 4.77086 14.5586V14.5586ZM4.70458 0.0823656C3.85242 0.121184 3.27012 0.256344 2.76159 0.45428C2.23494 0.658685 1.7891 0.932913 1.34359 1.37785C0.898075 1.82279 0.624631 2.26946 0.420284 2.79626C0.222405 3.30526 0.0872843 3.88741 0.0484771 4.73981C0.00902942 5.59356 0 5.86651 0 8.04099C0 10.2155 0.00902942 10.4884 0.0484771 11.3422C0.0872843 12.1946 0.222405 12.7767 0.420284 13.2857C0.624631 13.8122 0.898139 14.2594 1.34359 14.7041C1.78904 15.1489 2.23494 15.4227 2.76159 15.6277C3.27108 15.8256 3.85242 15.9608 4.70458 15.9996C5.55853 16.0384 5.83095 16.0481 8.0048 16.0481C10.1786 16.0481 10.4515 16.0391 11.305 15.9996C12.1572 15.9608 12.7392 15.8256 13.248 15.6277C13.7743 15.4227 14.2205 15.1491 14.666 14.7041C15.1115 14.2592 15.3844 13.8122 15.5893 13.2857C15.7872 12.7767 15.923 12.1946 15.9611 11.3422C15.9999 10.4878 16.009 10.2155 16.009 8.04099C16.009 5.86651 15.9999 5.59356 15.9611 4.73981C15.9223 3.88735 15.7872 3.30494 15.5893 2.79626C15.3844 2.26978 15.1108 1.8235 14.666 1.37785C14.2212 0.932208 13.7743 0.658685 13.2486 0.45428C12.7392 0.256344 12.1572 0.120543 11.3057 0.0823656C10.4522 0.0435471 10.1793 0.0338745 8.00544 0.0338745C5.83159 0.0338745 5.55853 0.0429065 4.70458 0.0823656Z"
            fill="white"
          />
        </svg>
      ),
      href: "/",
      color: "hover:text-pink-500",
    },
    {
      name: "X (Twitter)",
      icon: () => (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="19"
          height="16"
          viewBox="0 0 19 16"
          fill="none"
        >
          <g clipPath="url(#clip0_621_15057)">
            <path
              d="M14.3598 0H17.0757L11.1126 6.78967L18.0794 16H12.6122L8.33181 10.403L3.43144 16H0.715572L7.03291 8.73801L0.361328 0H5.96428L9.83144 5.11292L14.3598 0ZM13.4093 14.4059H14.9148L5.17314 1.53506H3.55542L13.4093 14.4059Z"
              fill="white"
            />
          </g>
          <defs>
            <clipPath id="clip0_621_15057">
              <rect
                width="17.7122"
                height="16"
                fill="white"
                transform="translate(0.427734)"
              />
            </clipPath>
          </defs>
        </svg>
      ),
      href: `https://twitter.com/intent/tweet?url=${encodeURIComponent(
        shareUrl
      )}&text=${encodeURIComponent(shareTitle)}`,
      color: "hover:text-gray-300",
    },
    {
      name: "WhatsApp",
      icon: () => (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="32"
          height="32"
          viewBox="0 0 32 32"
          fill="none"
        >
          <path
            d="M8 23.4076L9.14796 19.1392C8.22216 17.4764 7.92802 15.5361 8.31953 13.6743C8.71103 11.8125 9.76191 10.1541 11.2793 9.00346C12.7968 7.85277 14.6789 7.28697 16.5805 7.4099C18.4821 7.53283 20.2754 8.33623 21.6315 9.67269C22.9876 11.0091 23.8155 12.789 23.9632 14.6856C24.111 16.5823 23.5686 18.4685 22.4358 19.9982C21.3029 21.5279 19.6555 22.5984 17.7958 23.0133C15.9362 23.4282 13.989 23.1597 12.3116 22.257L8 23.4076ZM12.5195 20.6598L12.7862 20.8177C14.0011 21.5366 15.4202 21.8341 16.8222 21.6638C18.2242 21.4936 19.5304 20.865 20.5372 19.8763C21.544 18.8875 22.195 17.594 22.3886 16.1973C22.5821 14.8006 22.3075 13.3792 21.6075 12.1546C20.9074 10.93 19.8212 9.97104 18.5182 9.42707C17.2152 8.88311 15.7686 8.78474 14.4038 9.14729C13.0389 9.50984 11.8325 10.3129 10.9726 11.4314C10.1127 12.55 9.64754 13.921 9.64963 15.331C9.64849 16.5001 9.97236 17.6466 10.5852 18.6429L10.7524 18.9181L10.1106 21.3005L12.5195 20.6598Z"
            fill="white"
          />
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M18.9923 16.427C18.836 16.3012 18.6529 16.2126 18.4571 16.168C18.2613 16.1234 18.0579 16.1241 17.8624 16.1699C17.5686 16.2917 17.3788 16.7519 17.189 16.982C17.149 17.0372 17.0902 17.0759 17.0236 17.0908C16.957 17.1058 16.8873 17.096 16.8274 17.0632C15.7519 16.6427 14.8504 15.8715 14.2694 14.8749C14.2198 14.8127 14.1964 14.7337 14.2039 14.6546C14.2115 14.5755 14.2496 14.5024 14.31 14.4508C14.5218 14.2415 14.6772 13.9824 14.762 13.6973C14.7808 13.3828 14.7087 13.0695 14.5541 12.7948C14.4346 12.4098 14.2072 12.0669 13.8988 11.8067C13.7397 11.7353 13.5633 11.7113 13.3909 11.7377C13.2185 11.7642 13.0574 11.8398 12.9271 11.9556C12.7009 12.1505 12.5213 12.3935 12.4016 12.6668C12.2819 12.9401 12.2252 13.2367 12.2356 13.5348C12.2363 13.7022 12.2575 13.8689 12.2989 14.0311C12.4038 14.4209 12.5652 14.7934 12.7779 15.1366C12.9314 15.3995 13.0989 15.6541 13.2796 15.8991C13.8669 16.7041 14.6052 17.3875 15.4535 17.9115C15.8792 18.1778 16.3341 18.3943 16.8094 18.5567C17.303 18.7801 17.8481 18.8659 18.3867 18.8049C18.6935 18.7585 18.9843 18.6376 19.2333 18.4527C19.4824 18.2678 19.6821 18.0246 19.8148 17.7446C19.8929 17.5754 19.9166 17.3863 19.8826 17.2031C19.8013 16.8286 19.2996 16.6075 18.9923 16.427Z"
            fill="white"
          />
        </svg>
      ),
      href: `https://wa.me/?text=${encodeURIComponent(
        `${shareTitle} ${shareUrl}`
      )}`,
      color: "hover:text-green-500",
    },
    {
      name: "LinkedIn",
      icon: () => (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="14"
          height="14"
          viewBox="0 0 14 14"
          fill="none"
        >
          <path
            d="M3.31912 13.4843V4.84017H0.448501V13.4843H3.31942H3.31912ZM1.88441 3.66017C2.88525 3.66017 3.50833 2.9964 3.50833 2.16688C3.4896 1.31846 2.88525 0.673218 1.90344 0.673218C0.920968 0.673218 0.279297 1.31846 0.279297 2.16681C0.279297 2.99633 0.902159 3.66009 1.8656 3.66009H1.88419L1.88441 3.66017ZM4.90805 13.4843H7.77845V8.65755C7.77845 8.39954 7.79718 8.14086 7.87302 7.95658C8.08044 7.44019 8.55276 6.90565 9.34595 6.90565C10.3844 6.90565 10.8001 7.69827 10.8001 8.86043V13.4843H13.6704V8.52802C13.6704 5.87303 12.2544 4.63752 10.3658 4.63752C8.81743 4.63752 8.13739 5.50372 7.75956 6.09368H7.77867V4.84047H4.9082C4.94567 5.65139 4.90798 13.4846 4.90798 13.4846L4.90805 13.4843Z"
            fill="white"
          />
        </svg>
      ),
      href: `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(
        shareUrl
      )}`,
      color: "hover:text-blue-600",
    },
  ];

  const handleShare = (href: string, name: string) => {
    if (name === "Instagram") {
      navigator.clipboard?.writeText(shareUrl);
      alert("Link copied to clipboard! You can now share it on Instagram.");
      return;
    }

    if (href.startsWith("http")) {
      window.open(href, "_blank", "noopener,noreferrer,width=600,height=400");
    }
  };

  return (
    <div
      className="my-8 sm:my-12"
      style={{
        borderTop: "1px solid rgba(255, 255, 255, 0.25)",
        borderBottom: "1px solid rgba(255, 255, 255, 0.25)",
        padding: "24px 16px",
      }}
    >
      <div className="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 sm:gap-6">
        {/* Views Count */}
        <div className="flex-shrink-0">
          <span
            className="font-normal"
            style={{
              color: "rgba(255, 255, 255, 0.90)",
              fontFeatureSettings: "'dlig' on",
              fontFamily: "Inter",
              fontSize: "16px",
              fontStyle: "normal",
              fontWeight: "400",
              lineHeight: "normal",
            }}
          >
            {views.toLocaleString()} views
          </span>
        </div>

        {/* Share Section */}
        <div className="flex items-center gap-4 sm:gap-6">
          <span
            style={{
              color: "rgba(255, 255, 255, 0.70)",
              fontFeatureSettings: "'dlig' on",
              fontFamily: "Inter",
              fontSize: "16px",
              fontStyle: "normal",
              fontWeight: "600",
              lineHeight: "normal",
            }}
          >
            Share
          </span>

          {/* Social Icons */}
          <div className="flex items-center gap-3 sm:gap-4">
            {socialLinks.map((social) => {
              const IconComponent = social.icon;
              return (
                <button
                  key={social.name}
                  onClick={() => handleShare(social.href, social.name)}
                  className={`text-gray-400 ${social.color} transition-colors duration-200 cursor-pointer`}
                  aria-label={`Share on ${social.name}`}
                  title={`Share on ${social.name}`}
                >
                  <IconComponent />
                </button>
              );
            })}
          </div>
        </div>
      </div>
    </div>
  );
}
